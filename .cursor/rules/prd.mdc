---
description: 
globs: 
alwaysApply: false
---
# PRD (Product Requirements Document)

## 제품 개요 및 목적

### 제품명
**온라인 쇼핑 최저가 검색 챗봇 Agent**

### 목적
온라인 쇼핑 시 특정 상품의 최저가를 자동으로 검색하고 비교하여 리스트업해주는 프로토타입 챗봇 개발

### 비전
사용자가 상품명을 입력하면 즉시 여러 쇼핑몰의 가격을 비교하여 최적의 구매 선택을 도와주는 심플한 AI 어시스턴트

### 핵심 가치 제안
- **시간 절약**: 수동 가격 비교 시간을 90% 단축
- **정보 통합**: 여러 쇼핑몰 정보를 한 곳에서 확인
- **실시간 대화**: 자연스러운 대화형 인터페이스

## 핵심 고객/사용자

### 주요 타겟
**바쁜 직장인 (30대)**: 김미래 페르소나
- 시간 부족으로 인한 효율적 쇼핑 니즈
- 가격 대비 성능을 중시하는 합리적 소비자
- 기술 친화적이며 챗봇 사용에 익숙

### 보조 타겟
**예산 제약 대학생 (20대)**: 이절약 페르소나
- 제한된 예산으로 최대한 저렴한 상품 추구
- 효율적인 가격 비교 방법 선호

### 사용자 특성
- 온라인 쇼핑 경험 보유
- 웹 인터페이스 사용 가능
- 즉시성과 편의성을 중시

## 문제 정의

### 핵심 문제
1. **시간 소모**: 여러 쇼핑몰을 일일이 확인하는 번거로움
2. **정보 분산**: 각 쇼핑몰마다 다른 가격 및 할인 정보
3. **비효율성**: 수동 가격 비교의 한계
4. **놓치는 정보**: 할인 쿠폰, 배송비 등의 부가 정보 누락

### 현재 해결책의 한계
- 기존 가격 비교 사이트: 업데이트 지연, 제한적 정보
- 수동 검색: 시간 소모적, 휴먼 에러 발생
- 개별 쇼핑 앱: 파편화된 정보, 비교 불가

## 비즈니스 목표 및 성공 지표

### 비즈니스 목표
1. **사용자 경험 개선**: 쇼핑 결정 시간 단축
2. **기술 검증**: LangGraph + MCP 아키텍처 검증
3. **MVP 검증**: 시장 니즈 및 사용성 검증

### 핵심 성공 지표 (KPI)
- **사용성**: 평균 검색 완료 시간 3분 이내
- **정확성**: 가격 정보 정확도 95% 이상
- **만족도**: 사용자 만족도 4.0/5.0 이상
- **재사용**: 사용자 재사용률 70% 이상

## 요구사항

### 기능 요구사항 (Functional Requirements)

#### 1. 챗봇 인터페이스
- **실시간 스트리밍**: SSE(Server-Sent Events) 방식으로 응답 제공
- **멀티턴 대화**: 과거 대화 내용 참조하여 컨텍스트 유지
- **자연어 입력**: 자유로운 상품명 입력 지원

#### 2. 상품 검색 기능
- **MCP 연동**: 인터넷 검색 MCP 도구들을 활용한 검색
- **Agent 기반**: LangGraph의 pre-built React Agent 사용
- **검색 범위**: 다양한 온라인 쇼핑몰 정보 수집

#### 3. 정보 처리 및 제공
- **가격 비교**: 수집된 상품 가격 정보 비교 분석
- **부가 정보**: 할인, 배송, 구매링크 등 종합 정보 제공
- **결과 리스트**: 정렬된 가격 비교 결과 표시

#### 4. 데이터 파싱
- **LLM 활용**: Gemini-2.5-flash-preview-05-20 모델 사용
- **정보 추출**: LLM으로 웹 검색 결과에서 상품 정보 파싱
- **검증**: LLM으로 상품 정보의 일치성 및 정확성 검증

### 비기능 요구사항 (Non-Functional Requirements)

#### 1. 성능
- **응답 시간**: 검색 요청 후 5분 이내 결과 제공
- **스트리밍**: 실시간 응답 스트리밍으로 대기 시간 최소화

#### 2. 신뢰성
- **에러 처리**: 검색 실패 시 적절한 에러 메시지 제공
- **대체 방안**: MCP 검색 실패 시 다른 검색 소스 활용(langchain 혹은 langgraph의 인터넷 검색 툴)
- **데이터 검증**: 수집된 정보의 유효성 검증

#### 3. 사용성
- **직관적 UI**: 간단하고 명확한 챗봇 인터페이스
- **접근성**: 웹 브라우저 기반 접근 지원
- **피드백**: 검색 진행 상황 실시간 표시

## 유저 흐름 및 시나리오

### 기본 사용자 플로우
```mermaid
graph TD
    A[사용자 접속] --> B[챗봇 인터페이스 로드]
    B --> C[상품명 입력]
    C --> D[Agent 검색 시작]
    D --> E[MCP 도구들로 웹 검색]
    E --> F[검색 결과 수집]
    F --> G[LLM으로 정보 파싱]
    G --> H[가격 비교 및 정렬]
    H --> I[결과 스트리밍 출력]
    I --> J{추가 질문?}
    J -->|Yes| C
    J -->|No| K[세션 종료]
    
    style A fill:#ff9999
    style D fill:#99ccff
    style E fill:#99ccff
    style G fill:#99ccff
    style I fill:#99ff99
```

### 상세 시나리오
참조: [user-scenarios.mdc](mdc:user-scenarios.mdc) - 쇼핑 시나리오

**예시 대화 플로우**:
1. 사용자: "노트북 충전기 최저가 찾아줘"
2. 시스템: [실시간 스트리밍으로 검색 진행 상황 표시]
3. 시스템: 가격 비교 결과 및 구매 링크 제공
4. 사용자: "당일 배송 가능한 곳만 보여줘"
5. 시스템: 필터링된 결과 제공

## 제약사항 및 전제조건

### 기술적 제약사항
- **프로토타입 수준**: 완성도보다는 개념 검증에 집중
- **1회성 서비스**: 1회성 검색용으로 데이터베이스는 사용할 필요 없음
- **MCP 의존성**: 인터넷 검색 MCP 도구의 가용성에 의존
- **LLM 한계**: Gemini 모델의 응답 품질 및 속도 제약
- **실시간성**: 웹 검색 결과의 실시간성 한계

### 법적/윤리적 제약사항
- **웹 스크래핑 금지**: 직접 쇼핑몰 스크래핑 대신 MCP 도구 활용
- **개인정보**: 최소한의 개인정보 수집 및 저장
- **저작권**: 수집된 정보의 적절한 출처 표시

### 운영 제약사항
- **개발 리소스**: 제한된 개발 시간 및 인력
- **비용**: 무료/저비용 솔루션 우선
- **확장성**: 초기 버전은 소규모 사용자 대상

## 성공의 정의 (KPI)

### 사용성 지표
- [ ] **검색 완료 시간**: 평균 5분 이내
- [ ] **성공률**: 검색 성공률 90% 이상
- [ ] **에러율**: 시스템 에러 5% 이하

### 품질 지표
- [ ] **정확도**: 가격 정보 정확도 95% 이상
- [ ] **완성도**: 필수 정보(가격, 링크) 포함률 90% 이상
- [ ] **응답성**: 스트리밍 응답 지연 시간 2초 이하

### 사용자 만족도 지표
- [ ] **만족도**: 사용자 만족도 점수 4.0/5.0 이상
- [ ] **재사용률**: 사용자 재사용률 70% 이상
- [ ] **완료율**: 검색 ~ 결과 확인 완료율 80% 이상

### 비즈니스 지표
- [ ] **시간 절약**: 기존 대비 80% 이상 시간 단축
- [ ] **정보 통합**: 3개 이상 쇼핑몰 정보 동시 제공
- [ ] **기술 검증**: LangGraph + MCP 아키텍처 안정성 확인
